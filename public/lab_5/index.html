<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Shiv Patel Lab 4</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <h1>Shiv Patel's Lab 4</h1>
    <form action="/api" method="post">
      <ul class="flex-outer">
        <li>
          <label for="fname">First Name</label>
          <input
            type="text"
            id="fname"
            name="First Name"
            placeholder="Enter your first name here"
            maxlength="140"
          />
        </li>
        <li>
          <label for="lname">Last Name</label>
          <input
            type="text"
            id="lname"
            name="Last Name"
            placeholder="Enter your last name here"
            maxlength="140"
          />
        </li>
        <li>
          <label for="email">Email</label>
          <input
            type="email"
            name="Email Address"
            id="email"
            placeholder="Enter your email here"
          />
        </li>
        <li>
          <label for="phone">Phone</label>
          <input
            type="tel"
            name="Phone Number"
            id="phone"
            placeholder="Enter your phone here"
          />
        </li>
        <li>
          <label for="message">Message</label>
          <textarea
            rows="5"
            cols="33"
            id="message"
            name="message"
            placeholder="Enter your message here"
          ></textarea>
        </li>
        <li>
          <p class="checkbox-list-label">Age</p>
          <ul class="flex-inner">
            <!-- list items here -->
            <li>
              <input type="checkbox" id="age1" name="Age Group" value="18-35" />
              <label for="age1">18-35</label>
            </li>
            <li>
              <input type="checkbox" name="Age Group" id="age2" value="35-50" />
              <label for="age2">35-50</label>
            </li>
            <li>
              <input type="checkbox" name="Age Group" id="age3" value="50-65" />
              <label for="age3">50-65</label>
            </li>
          </ul>
        </li>
        <li>
          <button
            type="submit"
            formmethod="post"
            value="submit"
            name="Submit Button"
            id="submit"
          >
            Submit
          </button>
          <button
          type="button"
          onclick="testFunction()"
          value="activate"
          name="Activate Button"
          id="activate"
        >
          Activate
        </button>
        </li>
      </ul>
    </form>
  <script>
      function testFunction() {
          fetch('/api')
          .then((response) => response.text())
          .then((response) => {
              document.querySelector("h1").innerHTML = response;
              document.querySelector('body').style.background = 'orange';
              document.querySelector('.flex-outer').style.margin = '0px auto';
              document.querySelector('.checkbox-list-label').innerHTML = 'Fruits';
              var container = document.querySelector(".flex-inner");
              var fruits = ['kiwi', 'dragonfruit', 'pomelo'];
              var items = container.querySelectorAll('li > label');
              var x = 0;
              while (x < 3){
                items[x].innerHTML = fruits[x];
                x += 1;
              }
              console.log(response);
          })
          
      }
      </script>

  </body>
</html>
